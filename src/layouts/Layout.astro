---
// NO hace falta importar nada aquí
const base = import.meta.env.BASE_URL; // '/' en dev, '/victoranuncios/' en Pages
const bust = Date.now();               // solo para romper caché ahora
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <slot name="head" />
  </head>
  <body class="min-h-screen bg-white">
    <!-- HEADER -->
    <header class="sticky top-0 z-50 bg-white-600 text-black">
      <div class="max-w-7xl mx-auto px-4 h-14 flex items-center justify-between">
        <!-- Logo (no se encoge en móvil) -->

        <!--codigo que cambiamos nosotros para qe funcione el logo -->
 <a href={`${base}`} class="flex items-center gap-2 shrink-0">
  <img
    src={`${base}logo.png?v=${bust}`}  
    alt="Victor Anuncios"
    class="h-8 w-auto object-contain min-w-[2rem]"
    loading="eager"
    decoding="sync"
  />
  <span class="font-extrabold tracking-wide hidden sm:inline">VICTOR ANUNCIOS</span>
</a>

        <!-- Botón menú solo móvil -->
        <button class="md:hidden p-2 rounded hover:bg-white/10" aria-controls="nav-panel" aria-expanded="false" data-menu-btn>
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>

        <!-- Nav desktop -->
        <nav class="hidden md:flex items-center gap-6 font-semibold tracking-wide">
          <a href={`${base}`} class="hover:text-yellow-200">Inicio</a>
          <a href={`${base}#productos`} class="hover:text-yellow-200">Productos</a>
          <a href={`${base}tienda`} class="hover:text-yellow-200">Tienda</a>
          <a href={`${base}servicios`} class="hover:text-yellow-200">Servicios</a>
          <a href={`${base}cursos`} class="hover:text-yellow-200">Cursos</a>
          <a href={`${base}#contacto`} class="hover:text-yellow-200">Contacto</a>
        </nav>
      </div>

      <!-- Panel móvil -->
      <div id="nav-panel" class="md:hidden hidden border-t border-white/10">
        <nav class="px-4 py-3 flex flex-col gap-2 bg-red-600 font-semibold">
          <a href={`${base}`} class="py-1">Inicio</a>
          <a href={`${base}#productos`} class="py-1">Productos</a>
          <a href={`${base}tienda`} class="py-1">Tienda</a>
          <a href={`${base}servicios`} class="py-1">Servicios</a>
          <a href={`${base}cursos`} class="py-1">Cursos</a>
          <a href={`${base}#contacto`} class="py-1">Contactos</a>
        </nav>
      </div>

      <script is:inline>
        const btn = document.querySelector('[data-menu-btn]');
        const panel = document.querySelector('#nav-panel');
        btn?.addEventListener('click', () => {
          const hidden = panel.classList.toggle('hidden');
          btn.setAttribute('aria-expanded', String(!hidden));
        });
      </script>
    </header>

    <!-- CONTENIDO DE LAS PÁGINAS -->
    <main>
      <slot />
    </main>

    <slot name="scripts" />
  </body>
</html>
